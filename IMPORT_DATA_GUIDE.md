# –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ: –ú–∞—Å—Å–æ–≤—ã–π –∏–º–ø–æ—Ä—Ç –º–∞—Ç–µ—Ä–∏–∞–ª–æ–≤ –∏ –ø–æ—Å—Ç–∞–≤—â–∏–∫–æ–≤

–≠—Ç–æ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ–º–æ–∂–µ—Ç –≤–∞–º –¥–æ–±–∞–≤–∏—Ç—å –º–∞—Ç–µ—Ä–∏–∞–ª—ã –∏ –ø–æ—Å—Ç–∞–≤—â–∏–∫–æ–≤ –≤ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö —á–µ—Ä–µ–∑ SQL.

## üìã –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –¥–∞–Ω–Ω—ã—Ö

–ü–µ—Ä–µ–¥ –∏–º–ø–æ—Ä—Ç–æ–º –ø–æ–¥–≥–æ—Ç–æ–≤—å—Ç–µ –¥–∞–Ω–Ω—ã–µ –≤ —Ñ–æ—Ä–º–∞—Ç–µ:

### –ü–æ—Å—Ç–∞–≤—â–∏–∫–∏ (Suppliers/Contractors)
- **ID** - —É–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä (–Ω–∞–ø—Ä–∏–º–µ—Ä: `supplier-001`, `supplier-002`)
- **–ù–∞–∑–≤–∞–Ω–∏–µ** - –ø–æ–ª–Ω–æ–µ –Ω–∞–∑–≤–∞–Ω–∏–µ –ø–æ—Å—Ç–∞–≤—â–∏–∫–∞
- **–ö–æ–¥** - —É–Ω–∏–∫–∞–ª—å–Ω—ã–π –∫–æ–¥ –ø–æ—Å—Ç–∞–≤—â–∏–∫–∞ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ, –º–æ–∂–Ω–æ –æ—Å—Ç–∞–≤–∏—Ç—å NULL)
- **–ö–æ–Ω—Ç–∞–∫—Ç–Ω–æ–µ –ª–∏—Ü–æ** - –∏–º—è –∫–æ–Ω—Ç–∞–∫—Ç–Ω–æ–≥–æ –ª–∏—Ü–∞ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
- **–¢–µ–ª–µ—Ñ–æ–Ω** - –Ω–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω–∞ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
- **Email** - —ç–ª–µ–∫—Ç—Ä–æ–Ω–Ω–∞—è –ø–æ—á—Ç–∞ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

### –ú–∞—Ç–µ—Ä–∏–∞–ª—ã (Items)
- **ID** - —É–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∞—Ä—Ç–∏–∫—É–ª)
- **–ê—Ä—Ç–∏–∫—É–ª (SKU)** - –∞—Ä—Ç–∏–∫—É–ª —Ç–æ–≤–∞—Ä–∞ (–æ–±—ã—á–Ω–æ —Å–æ–≤–ø–∞–¥–∞–µ—Ç —Å ID)
- **–ù–∞–∑–≤–∞–Ω–∏–µ** - –ø–æ–ª–Ω–æ–µ –Ω–∞–∑–≤–∞–Ω–∏–µ –º–∞—Ç–µ—Ä–∏–∞–ª–∞
- **–ö–∞—Ç–µ–≥–æ—Ä–∏—è** - –æ–¥–Ω–∞ –∏–∑ –∫–∞—Ç–µ–≥–æ—Ä–∏–π:
  - `tea_bulk` - –ß–∞–π —Å—ã–ø—É—á–∏–π
  - `flavor` - –ê—Ä–æ–º–∞—Ç–∏–∑–∞—Ç–æ—Ä—ã
  - `packaging_consumable` - –£–ø–∞–∫–æ–≤–∫–∞ —Ä–∞—Å—Ö–æ–¥–Ω–∞—è
  - `packaging_box` - –£–ø–∞–∫–æ–≤–∫–∞ –∫–æ—Ä–æ–±–∫–∏
  - `packaging_crate` - –£–ø–∞–∫–æ–≤–∫–∞ —è—â–∏–∫–∏
  - `label` - –≠—Ç–∏–∫–µ—Ç–∫–∏
  - `other` - –ü—Ä–æ—á–µ–µ
- **–ï–¥–∏–Ω–∏—Ü–∞ –∏–∑–º–µ—Ä–µ–Ω–∏—è** - –µ–¥–∏–Ω–∏—Ü–∞ –∏–∑–º–µ—Ä–µ–Ω–∏—è:
  - `kg` - –ö–∏–ª–æ–≥—Ä–∞–º–º—ã
  - `pcs` - –®—Ç—É–∫–∏
  - `l` - –õ–∏—Ç—Ä—ã
  - `m` - –ú–µ—Ç—Ä—ã
- **–ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π –æ—Å—Ç–∞—Ç–æ–∫** - –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–π —É—Ä–æ–≤–µ–Ω—å –æ—Å—Ç–∞—Ç–∫–∞ (—á–∏—Å–ª–æ)

## üöÄ –ö–∞–∫ –∏–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –¥–∞–Ω–Ω—ã–µ

### –í–∞—Ä–∏–∞–Ω—Ç 1: –ß–µ—Ä–µ–∑ SQL Editor (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –¥–ª—è –±–æ–ª—å—à–∏—Ö –æ–±—ä–µ–º–æ–≤)

1. –û—Ç–∫—Ä–æ–π—Ç–µ SQL Editor –≤ Supabase:
   https://supabase.com/dashboard/project/nhsnxypdprellsmouhlp/sql/new

2. –û—Ç–∫—Ä–æ–π—Ç–µ —Ñ–∞–π–ª `migrations/import_materials_and_suppliers.sql`

3. –ó–∞–º–µ–Ω–∏—Ç–µ –ø—Ä–∏–º–µ—Ä—ã –¥–∞–Ω–Ω—ã—Ö –Ω–∞ –≤–∞—à–∏ —Ä–µ–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ:
   ```sql
   INSERT INTO contractors (id, name, code, contact_person, phone, email)
   VALUES
       ('supplier-001', '–í–∞—à –ø–æ—Å—Ç–∞–≤—â–∏–∫ 1', 'SUP-001', '–ò–º—è', '+380501234567', 'email@example.com'),
       ('supplier-002', '–í–∞—à –ø–æ—Å—Ç–∞–≤—â–∏–∫ 2', 'SUP-002', NULL, NULL, NULL),
       -- –î–æ–±–∞–≤—å—Ç–µ –±–æ–ª—å—à–µ –ø–æ—Å—Ç–∞–≤—â–∏–∫–æ–≤...
   ON CONFLICT (id) DO UPDATE SET ...;
   ```

4. –í—ã–ø–æ–ª–Ω–∏—Ç–µ SQL-—Å–∫—Ä–∏–ø—Ç

5. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã:
   - –û—Ç–∫—Ä–æ–π—Ç–µ —Å—Ç—Ä–∞–Ω–∏—Ü—É **"–ú–∞—Ç–µ—Ä–∏–∞–ª—ã"** - –º–∞—Ç–µ—Ä–∏–∞–ª—ã –¥–æ–ª–∂–Ω—ã –æ—Ç–æ–±—Ä–∞–∑–∏—Ç—å—Å—è
   - –û—Ç–∫—Ä–æ–π—Ç–µ —Å—Ç—Ä–∞–Ω–∏—Ü—É **"–ü–æ—Å—Ç–∞–≤—â–∏–∫–∏"** - –ø–æ—Å—Ç–∞–≤—â–∏–∫–∏ –¥–æ–ª–∂–Ω—ã –æ—Ç–æ–±—Ä–∞–∑–∏—Ç—å—Å—è

### –í–∞—Ä–∏–∞–Ω—Ç 2: –ß–µ—Ä–µ–∑ Excel –∏–º–ø–æ—Ä—Ç (–¥–ª—è –º–∞—Ç–µ—Ä–∏–∞–ª–æ–≤)

–ï—Å–ª–∏ —É –≤–∞—Å –µ—Å—Ç—å Excel —Ñ–∞–π–ª —Å –º–∞—Ç–µ—Ä–∏–∞–ª–∞–º–∏:

1. –û—Ç–∫—Ä–æ–π—Ç–µ —Å—Ç—Ä–∞–Ω–∏—Ü—É **"–ù–∞—Å—Ç—Ä–æ–π–∫–∏"** ‚Üí –≤–∫–ª–∞–¥–∫–∞ **"–ò–º–ø–æ—Ä—Ç –∏ –û–±—â–∏–µ"**
2. –ù–∞–∂–º–∏—Ç–µ **"–ò–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –∏–∑ Excel"**
3. –í—ã–±–µ—Ä–∏—Ç–µ —Ñ–∞–π–ª Excel —Å –∫–æ–ª–æ–Ω–∫–∞–º–∏:
   - **–ê—Ä—Ç–∏–∫—É–ª** (–∏–ª–∏ `–ö–æ–¥`, `Code`, `SKU`)
   - **–ù–∞–∑–≤–∞** (–∏–ª–∏ `–ù–∞–∏–º–µ–Ω–æ–≤–∞–Ω–∏–µ`, `Name`, `–ù–∞–∑–≤–∞–Ω–∏–µ`)
   - **–ï–¥. –∏–∑–º.** (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ, –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: `—à—Ç`)
   - **–ó–∞–ª. –Ω–∞ 1 —á–∏—Å–ª–æ, 1–°** (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ, –æ—Å—Ç–∞—Ç–æ–∫ –Ω–∞ —Å–∫–ª–∞–¥–µ)
4. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä –∏ –∏–º–ø–æ—Ä—Ç–∏—Ä—É–π—Ç–µ

**–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:** Excel –∏–º–ø–æ—Ä—Ç —Ä–∞–±–æ—Ç–∞–µ—Ç —Ç–æ–ª—å–∫–æ –¥–ª—è –º–∞—Ç–µ—Ä–∏–∞–ª–æ–≤, –Ω–µ –¥–ª—è –ø–æ—Å—Ç–∞–≤—â–∏–∫–æ–≤.

## üìù –ü—Ä–∏–º–µ—Ä—ã SQL –∑–∞–ø—Ä–æ—Å–æ–≤

### –î–æ–±–∞–≤–∏—Ç—å –æ–¥–Ω–æ–≥–æ –ø–æ—Å—Ç–∞–≤—â–∏–∫–∞
```sql
INSERT INTO contractors (id, name, code, contact_person, phone, email)
VALUES ('supplier-001', '–û–û–û "–ü–æ—Å—Ç–∞–≤—â–∏–∫"', 'SUP-001', '–ò–≤–∞–Ω –ò–≤–∞–Ω–æ–≤', '+380501234567', 'supplier@example.com')
ON CONFLICT (id) DO UPDATE SET
    name = EXCLUDED.name,
    code = EXCLUDED.code,
    contact_person = EXCLUDED.contact_person,
    phone = EXCLUDED.phone,
    email = EXCLUDED.email,
    updated_at = NOW();
```

### –î–æ–±–∞–≤–∏—Ç—å –æ–¥–∏–Ω –º–∞—Ç–µ—Ä–∏–∞–ª
```sql
INSERT INTO items (id, sku, name, category, unit, min_stock_level)
VALUES ('ART-001', 'ART-001', '–ß–∞–π —á–µ—Ä–Ω—ã–π —Ü–µ–π–ª–æ–Ω—Å–∫–∏–π', 'tea_bulk', 'kg', 500)
ON CONFLICT (id) DO UPDATE SET
    sku = EXCLUDED.sku,
    name = EXCLUDED.name,
    category = EXCLUDED.category,
    unit = EXCLUDED.unit,
    min_stock_level = EXCLUDED.min_stock_level;
```

### –î–æ–±–∞–≤–∏—Ç—å –æ—Å—Ç–∞—Ç–∫–∏ –Ω–∞ —Å–∫–ª–∞–¥–µ
```sql
INSERT INTO stock_levels (item_id, warehouse_id, quantity)
VALUES
    ('ART-001', 'wh-main', 1000),
    ('ART-001', 'wh-prod-1', 100)
ON CONFLICT (item_id, warehouse_id) DO UPDATE SET
    quantity = EXCLUDED.quantity;
```

## ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ –∏–º–ø–æ—Ä—Ç–∞

–ü–æ—Å–ª–µ –∏–º–ø–æ—Ä—Ç–∞ –≤—ã–ø–æ–ª–Ω–∏—Ç–µ –ø—Ä–æ–≤–µ—Ä–æ—á–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã:

```sql
-- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –º–∞—Ç–µ—Ä–∏–∞–ª–æ–≤
SELECT COUNT(*) as total_items FROM items;

-- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–æ—Å—Ç–∞–≤—â–∏–∫–æ–≤
SELECT COUNT(*) as total_suppliers FROM contractors;

-- –ü—Ä–æ—Å–º–æ—Ç—Ä–µ—Ç—å –≤—Å–µ –º–∞—Ç–µ—Ä–∏–∞–ª—ã
SELECT id, sku, name, category, unit, min_stock_level 
FROM items 
ORDER BY name;

-- –ü—Ä–æ—Å–º–æ—Ç—Ä–µ—Ç—å –≤—Å–µ—Ö –ø–æ—Å—Ç–∞–≤—â–∏–∫–æ–≤
SELECT id, name, code, contact_person, phone, email 
FROM contractors 
ORDER BY name;
```

## ‚ö†Ô∏è –í–∞–∂–Ω—ã–µ –∑–∞–º–µ—á–∞–Ω–∏—è

1. **ID –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å —É–Ω–∏–∫–∞–ª—å–Ω—ã–º–∏** - –µ—Å–ª–∏ –≤—ã –ø–æ–ø—ã—Ç–∞–µ—Ç–µ—Å—å –¥–æ–±–∞–≤–∏—Ç—å –º–∞—Ç–µ—Ä–∏–∞–ª/–ø–æ—Å—Ç–∞–≤—â–∏–∫–∞ —Å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–º ID, –¥–∞–Ω–Ω—ã–µ –±—É–¥—É—Ç –æ–±–Ω–æ–≤–ª–µ–Ω—ã (UPSERT)

2. **–ê—Ä—Ç–∏–∫—É–ª (SKU) —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∫–∞–∫ ID** - —ç—Ç–æ —É–ø—Ä–æ—Å—Ç–∏—Ç —Ä–∞–±–æ—Ç—É —Å –¥–∞–Ω–Ω—ã–º–∏

3. **–ö–∞—Ç–µ–≥–æ—Ä–∏–∏ –∏ –µ–¥–∏–Ω–∏—Ü—ã –∏–∑–º–µ—Ä–µ–Ω–∏—è** - –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ç–æ–ª—å–∫–æ –¥–æ–ø—É—Å—Ç–∏–º—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è –∏–∑ —Å–ø–∏—Å–∫–∞ –≤—ã—à–µ

4. **–û—Å—Ç–∞—Ç–∫–∏ –Ω–∞ —Å–∫–ª–∞–¥–µ** - –º–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –ø–æ–∑–∂–µ —á–µ—Ä–µ–∑ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –∏–ª–∏ SQL

5. **–ü–æ—Å—Ç–∞–≤—â–∏–∫–∏ –∏ –º–∞—Ç–µ—Ä–∏–∞–ª—ã** - —ç—Ç–æ –æ—Ç–¥–µ–ª—å–Ω—ã–µ —Ç–∞–±–ª–∏—Ü—ã, —Å–≤—è–∑—å –º–µ–∂–¥—É –Ω–∏–º–∏ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –∑–∞–∫–∞–∑–æ–≤

## üîÑ –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö –¥–∞–Ω–Ω—ã—Ö

–ï—Å–ª–∏ –º–∞—Ç–µ—Ä–∏–∞–ª –∏–ª–∏ –ø–æ—Å—Ç–∞–≤—â–∏–∫ —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç, SQL-—Å–∫—Ä–∏–ø—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–±–Ω–æ–≤–∏—Ç –¥–∞–Ω–Ω—ã–µ –±–ª–∞–≥–æ–¥–∞—Ä—è `ON CONFLICT DO UPDATE`. –≠—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ –≤—ã –º–æ–∂–µ—Ç–µ –±–µ–∑–æ–ø–∞—Å–Ω–æ –∑–∞–ø—É—Å–∫–∞—Ç—å —Å–∫—Ä–∏–ø—Ç –Ω–µ—Å–∫–æ–ª—å–∫–æ —Ä–∞–∑.

## üìû –ù—É–∂–Ω–∞ –ø–æ–º–æ—â—å?

–ï—Å–ª–∏ –≤–æ–∑–Ω–∏–∫–ª–∏ –ø—Ä–æ–±–ª–µ–º—ã:
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ñ–æ—Ä–º–∞—Ç –¥–∞–Ω–Ω—ã—Ö (–∫–∞–≤—ã—á–∫–∏, –∑–∞–ø—è—Ç—ã–µ, —Å–∫–æ–±–∫–∏)
2. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ ID —É–Ω–∏–∫–∞–ª—å–Ω—ã
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ –∏ –µ–¥–∏–Ω–∏—Ü—ã –∏–∑–º–µ—Ä–µ–Ω–∏—è —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—Ç –¥–æ–ø—É—Å—Ç–∏–º—ã–º –∑–Ω–∞—á–µ–Ω–∏—è–º
4. –ü–æ—Å–º–æ—Ç—Ä–∏—Ç–µ –æ—à–∏–±–∫–∏ –≤ –∫–æ–Ω—Å–æ–ª–∏ Supabase SQL Editor

